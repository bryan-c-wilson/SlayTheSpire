source("~/Documents/R_Projects/Slay_The_Spire/scripts/Initialize_StS_Project_Script.R")
pwd
getwd()
new_data <- jsonlite::fromJSON("Slay_The_Spire/Bryan's Run Data/")  # Adjust this for your file structure
new_data <- jsonlite::fromJSON("Slay_The_Spire/Bryan's Run Data/runs/DEFECT/1699114698.run")  # Adjust this for your file structure
head(new_data)
str(new_data)
str(data)
new_data_columns <- names(new_data)
main_data_columns <- names(data)
print(new_data_columns)
print(main_data_columns)
str(data$event[[1]])
print(new_data_columns)
nested_df <- bind_rows(data$event)
print(colnames(nested_df))
main_data_columns <- colnames(nested_df)
common_columns <- intersect(new_data_columns, main_data_columns)
new_unique_columns <- setdiff(new_data_columns, main_data_columns)
main_unique_columns <- setdiff(main_data_columns, new_data_columns)
print(common_columns)
print(main_unique_columns)
directories <- c("Slay_The_Spire/Bryan's Run Data/runs/DEFECT",)
directories <- c("Slay_The_Spire/Bryan's Run Data/runs/DEFECT","Slay_The_Spire/Bryan's Run Data/runs/IRONCLAD", "Slay_The_Spire/Bryan's Run Data/runs/SILENT", "Slay_The_Spire/Bryan's Run Data/runs/WATCHER")
print(directories)
all_runs <- list()
for (dir in directories) {run_files <- list.files(path=dir, pattern = "*.run", fullnames = TRUE)}
for (dir in directories) {run_files <- list.files(path=dir, pattern = "*.run", full.names = TRUE)}
for (file in run_files) {run_data <- jsonlite::fromJSON(file)
all_runs <- append(all_runs,list(run_data))}
events <- data.frame(event = I(all_runs)
print(col_names(events))
events <- data.frame(event = I(all_runs)
print(col_names(events))
print(colnames(events))
events <- data.frame(event = I(all_runs))
print(colnames(events))
n(events)
number_of_bryan_runs <- summarize(total_runs=n())
number_of_bryan_runs <- events %>% group_by(character_chosen) %>% summarize(total_runs=n())
rlang::last_trace()
str(events)
unnested_events <- unnest(events, cols = events)
unnested_events <- unnest(events, cols = event)
print(colnames(unnested_events))
unnested_events <- unnest(events, cols = all_of(events))
print(unnested_events
)
unnested_events <- unnested_events %>% unnest(event)
str(unnested_events)
library(purrr)
unnested_df <- unnested_events %>% mutate(character_chosen = map_chr(event, "character_chosen"),
victory = map_lgl_event, "victory", floor_reached = map_int(event, "floor_reached"))
rm(list = ls())
source("~/Documents/R_Projects/Slay_The_Spire/scripts/StS_Util_Script.R")
source("~/Documents/R_Projects/Slay_The_Spire/scripts/Initialize_StS_Project_Script.R")
# Define the directories containing your .run files
directories <- c("Slay_The_Spire/Bryan's Run Data/runs/DEFECT",
"Slay_The_Spire/Bryan's Run Data/runs/IRONCLAD",
"Slay_The_Spire/Bryan's Run Data/runs/SILENT",
"Slay_The_Spire/Bryan's Run Data/runs/WATCHER")
# List to hold all the run data
all_runs <- list()
# Loop over each directory and read in all .run files
for (dir in directories) {
run_files <- list.files(path = dir, pattern = "*.run", full.names = TRUE)
# Load each .run file and add to the list
for (file in run_files) {
run_data <- jsonlite::fromJSON(file)
all_runs <- append(all_runs, list(run_data))
}
}
# Convert the list of runs into a data frame
all_runs_df <- dplyr::bind_rows(all_runs)
# Create a data frame or list to match the structure of the `november.rds`
events <- data.frame(event = I(all_runs))
# Save the combined runs as an RDS file
saveRDS(events, file = "Slay_The_Spire/Bryan's Run Data/bryan.rds")
rm() ls
rm(list = ls())
source("~/.active-rstudio-document")
# directories <- c("Slay_The_Spire/Bryan's Run Data/runs/DEFECT",
#                  "Slay_The_Spire/Bryan's Run Data/runs/IRONCLAD",
#                  "Slay_The_Spire/Bryan's Run Data/runs/SILENT",
#                  "Slay_The_Spire/Bryan's Run Data/runs/WATCHER")
#
# # Combine and save the runs to an RDS file
#combine_and_save_runs(directories, "Slay_The_Spire/data/bryan.rds")
# Define the directories containing your .run files
directories <- c("Slay_The_Spire/Bryan's Run Data/runs/DEFECT",
"Slay_The_Spire/Bryan's Run Data/runs/IRONCLAD",
"Slay_The_Spire/Bryan's Run Data/runs/SILENT",
"Slay_The_Spire/Bryan's Run Data/runs/WATCHER")
# Combine and save the runs to an RDS file
combine_and_save_runs(directories, "Slay_The_Spire/data/bryan.rds")
source("~/.active-rstudio-document")
source("~/.active-rstudio-document")
rm(list = ls())
clear
source("~/.active-rstudio-document")
rm(list = ls())
clear
wipe
exit
source("~/.active-rstudio-document")
